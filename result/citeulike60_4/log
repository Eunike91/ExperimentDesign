[2021-01-17 21:29:37,406 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:75: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

[2021-01-17 21:29:37,407 - INFO:tensorflow]<<module>>:75: 

{
  "batch_size": 128,
  "decay_rate": 0.9,
  "embed_size": 60,
  "filename": "data/citeulike-a.npz",
  "grad_clip": 5.0,
  "hops": 4,
  "item_count": "16980",
  "l2": 0.1,
  "learning_rate": 0.001,
  "logdir": "result/015/",
  "max_neighbors": 311,
  "neg_count": 4,
  "optimizer": "rmsprop",
  "optimizer_params": "{'momentum': 0.9, 'decay': 0.9}",
  "pretrain": "pretrain/citeulike-a_e60.npz",
  "save_directory": "result/015/",
  "tol": 1e-05,
  "user_count": "5551"
}


[2021-01-17 21:29:37,407 - WARNING:tensorflow]<new_func>:323: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:250: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
[2021-01-17 21:29:37,416 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:255: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

[2021-01-17 21:29:37,428 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/helper.py:23: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

[2021-01-17 21:29:37,486 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/attention.py:52: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.

[2021-01-17 21:29:37,524 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,576 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,627 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 4 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,666 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/sonnet/python/modules/basic.py:132: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-17 21:29:37,783 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,837 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,887 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 4 with <function relu at 0x7f5f1189d200>
[2021-01-17 21:29:37,934 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

[2021-01-17 21:29:37,934 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

[2021-01-17 21:29:37,935 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:37: The name tf.log is deprecated. Please use tf.math.log instead.

[2021-01-17 21:29:37,948 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:220: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

[2021-01-17 21:29:38,138 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1424: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
[2021-01-17 21:29:38,989 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/rmsprop.py:119: calling Ones.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-17 21:29:39,135 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:44: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.

[2021-01-17 21:29:39,137 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:47: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.

[2021-01-17 21:29:39,138 - WARNING:tensorflow]<new_func>:323: From train.py:83: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
[2021-01-17 21:29:39,330 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:85: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

[2021-01-17 21:29:39,331 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:86: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.

[2021-01-17 21:29:39,582 - INFO:tensorflow]<_try_run_local_init_op>:500: Running local_init_op.
[2021-01-17 21:29:39,617 - INFO:tensorflow]<_try_run_local_init_op>:502: Done running local_init_op.
[2021-01-17 21:29:40,592 - INFO:tensorflow]<prepare_or_wait_for_session>:737: Starting standard services.
[2021-01-17 21:29:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 21:29:40,629 - INFO:tensorflow]<prepare_or_wait_for_session>:743: Starting queue runners.
[2021-01-17 21:29:40,630 - INFO:tensorflow]<<module>>:91: Loading Pretrained Embeddings.... from pretrain/citeulike-a_e60.npz
[2021-01-17 21:37:53,060 - INFO:tensorflow]<<module>>:120: Epoch 0: Avg Loss/Batch 0.623245            
[2021-01-17 21:38:32,671 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.395244      NDCG@1         0.395244
HR@5           0.763646      NDCG@5         0.592922
HR@10          0.861106      NDCG@10        0.624794


[2021-01-17 21:39:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 21:45:56,327 - INFO:tensorflow]<<module>>:120: Epoch 1: Avg Loss/Batch 0.285352            
[2021-01-17 21:46:35,396 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.393443      NDCG@1         0.393443
HR@5           0.774995      NDCG@5         0.599554
HR@10          0.870294      NDCG@10        0.630473


[2021-01-17 21:49:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 21:53:40,017 - INFO:tensorflow]<<module>>:120: Epoch 2: Avg Loss/Batch 0.233286            
[2021-01-17 21:54:18,954 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.392902      NDCG@1         0.392902
HR@5           0.773734      NDCG@5         0.597892
HR@10          0.875518      NDCG@10        0.631019


[2021-01-17 21:59:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:01:22,509 - INFO:tensorflow]<<module>>:120: Epoch 3: Avg Loss/Batch 0.188850            
[2021-01-17 22:02:01,672 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.402270      NDCG@1         0.402270
HR@5           0.775176      NDCG@5         0.603227
HR@10          0.877139      NDCG@10        0.636480


[2021-01-17 22:09:05,819 - INFO:tensorflow]<<module>>:120: Epoch 4: Avg Loss/Batch 0.155148            
[2021-01-17 22:09:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:09:44,922 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.403531      NDCG@1         0.403531
HR@5           0.774815      NDCG@5         0.604329
HR@10          0.881103      NDCG@10        0.638918


[2021-01-17 22:16:47,997 - INFO:tensorflow]<<module>>:120: Epoch 5: Avg Loss/Batch 0.133659            
[2021-01-17 22:17:27,060 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.414160      NDCG@1         0.414160
HR@5           0.784003      NDCG@5         0.613892
HR@10          0.885246      NDCG@10        0.646836


[2021-01-17 22:19:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:19:40,673 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/saver.py:963: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
[2021-01-17 22:24:29,215 - INFO:tensorflow]<<module>>:120: Epoch 6: Avg Loss/Batch 0.117292            
[2021-01-17 22:25:08,053 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.419564      NDCG@1         0.419564
HR@5           0.784723      NDCG@5         0.616736
HR@10          0.886147      NDCG@10        0.649924


[2021-01-17 22:29:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:32:11,452 - INFO:tensorflow]<<module>>:120: Epoch 7: Avg Loss/Batch 0.106048            
[2021-01-17 22:32:50,369 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.419024      NDCG@1         0.419024
HR@5           0.789407      NDCG@5         0.619602
HR@10          0.891731      NDCG@10        0.652724


[2021-01-17 22:39:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:39:57,327 - INFO:tensorflow]<<module>>:120: Epoch 8: Avg Loss/Batch 0.096543            
[2021-01-17 22:40:36,122 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.422266      NDCG@1         0.422266
HR@5           0.790848      NDCG@5         0.622080
HR@10          0.891191      NDCG@10        0.654657


[2021-01-17 22:47:37,431 - INFO:tensorflow]<<module>>:120: Epoch 9: Avg Loss/Batch 0.089517            
[2021-01-17 22:48:16,161 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.423347      NDCG@1         0.423347
HR@5           0.789227      NDCG@5         0.621788
HR@10          0.888849      NDCG@10        0.654308


[2021-01-17 22:49:40,630 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 22:55:20,017 - INFO:tensorflow]<<module>>:120: Epoch 10: Avg Loss/Batch 0.082569            
[2021-01-17 22:55:58,663 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.431814      NDCG@1         0.431814
HR@5           0.799315      NDCG@5         0.632023
HR@10          0.892992      NDCG@10        0.662486


[2021-01-17 22:59:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:03:00,431 - INFO:tensorflow]<<module>>:120: Epoch 11: Avg Loss/Batch 0.077663            
[2021-01-17 23:03:39,430 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.434156      NDCG@1         0.434156
HR@5           0.800757      NDCG@5         0.633407
HR@10          0.893172      NDCG@10        0.663501


[2021-01-17 23:09:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:10:41,219 - INFO:tensorflow]<<module>>:120: Epoch 12: Avg Loss/Batch 0.073617            
[2021-01-17 23:11:20,095 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.436498      NDCG@1         0.436498
HR@5           0.802198      NDCG@5         0.635006
HR@10          0.891911      NDCG@10        0.664405


[2021-01-17 23:18:21,625 - INFO:tensorflow]<<module>>:120: Epoch 13: Avg Loss/Batch 0.069388            
[2021-01-17 23:19:00,220 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438840      NDCG@1         0.438840
HR@5           0.800396      NDCG@5         0.634518
HR@10          0.894073      NDCG@10        0.665334


[2021-01-17 23:19:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:26:00,511 - INFO:tensorflow]<<module>>:120: Epoch 14: Avg Loss/Batch 0.066353            
[2021-01-17 23:26:39,281 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.435957      NDCG@1         0.435957
HR@5           0.801477      NDCG@5         0.634109
HR@10          0.894794      NDCG@10        0.664630


[2021-01-17 23:29:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:33:40,835 - INFO:tensorflow]<<module>>:120: Epoch 15: Avg Loss/Batch 0.062907            
[2021-01-17 23:34:19,660 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.432535      NDCG@1         0.432535
HR@5           0.803639      NDCG@5         0.634647
HR@10          0.896235      NDCG@10        0.664861


[2021-01-17 23:39:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:41:24,094 - INFO:tensorflow]<<module>>:120: Epoch 16: Avg Loss/Batch 0.061353            
[2021-01-17 23:42:02,824 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.434696      NDCG@1         0.434696
HR@5           0.797334      NDCG@5         0.632059
HR@10          0.893893      NDCG@10        0.663781


[2021-01-17 23:49:05,170 - INFO:tensorflow]<<module>>:120: Epoch 17: Avg Loss/Batch 0.058857            
[2021-01-17 23:49:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-17 23:49:43,959 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.435237      NDCG@1         0.435237
HR@5           0.804179      NDCG@5         0.636021
HR@10          0.896415      NDCG@10        0.666039


[2021-01-17 23:56:44,942 - INFO:tensorflow]<<module>>:120: Epoch 18: Avg Loss/Batch 0.056356            
[2021-01-17 23:57:23,643 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.437759      NDCG@1         0.437759
HR@5           0.804540      NDCG@5         0.637695
HR@10          0.897316      NDCG@10        0.667959


[2021-01-17 23:59:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:04:26,762 - INFO:tensorflow]<<module>>:120: Epoch 19: Avg Loss/Batch 0.054793            
[2021-01-18 00:05:05,546 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441002      NDCG@1         0.441002
HR@5           0.801477      NDCG@5         0.637423
HR@10          0.896415      NDCG@10        0.668536


[2021-01-18 00:09:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:12:06,538 - INFO:tensorflow]<<module>>:120: Epoch 20: Avg Loss/Batch 0.053346            
[2021-01-18 00:12:45,175 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443704      NDCG@1         0.443704
HR@5           0.803999      NDCG@5         0.640484
HR@10          0.891011      NDCG@10        0.668853


[2021-01-18 00:19:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:19:47,680 - INFO:tensorflow]<<module>>:120: Epoch 21: Avg Loss/Batch 0.051594            
[2021-01-18 00:20:26,318 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.442263      NDCG@1         0.442263
HR@5           0.801838      NDCG@5         0.638162
HR@10          0.894794      NDCG@10        0.668527


[2021-01-18 00:27:26,217 - INFO:tensorflow]<<module>>:120: Epoch 22: Avg Loss/Batch 0.050140            
[2021-01-18 00:28:04,865 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.447487      NDCG@1         0.447487
HR@5           0.802918      NDCG@5         0.640075
HR@10          0.893713      NDCG@10        0.669641


[2021-01-18 00:29:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:35:04,908 - INFO:tensorflow]<<module>>:120: Epoch 23: Avg Loss/Batch 0.049197            
[2021-01-18 00:35:43,619 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.445325      NDCG@1         0.445325
HR@5           0.805260      NDCG@5         0.641645
HR@10          0.896235      NDCG@10        0.671344


[2021-01-18 00:39:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:42:48,315 - INFO:tensorflow]<<module>>:120: Epoch 24: Avg Loss/Batch 0.048323            
[2021-01-18 00:43:26,997 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.445866      NDCG@1         0.445866
HR@5           0.808683      NDCG@5         0.643241
HR@10          0.898757      NDCG@10        0.672429


[2021-01-18 00:49:40,628 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 00:50:27,075 - INFO:tensorflow]<<module>>:120: Epoch 25: Avg Loss/Batch 0.046760            
[2021-01-18 00:51:05,857 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.447307      NDCG@1         0.447307
HR@5           0.802738      NDCG@5         0.640830
HR@10          0.896595      NDCG@10        0.671525


[2021-01-18 00:58:06,659 - INFO:tensorflow]<<module>>:120: Epoch 26: Avg Loss/Batch 0.046349            
[2021-01-18 00:58:45,367 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.442623      NDCG@1         0.442623
HR@5           0.807963      NDCG@5         0.641788
HR@10          0.894614      NDCG@10        0.670107


[2021-01-18 00:59:40,630 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 01:05:45,567 - INFO:tensorflow]<<module>>:120: Epoch 27: Avg Loss/Batch 0.045254            
[2021-01-18 01:06:24,476 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441182      NDCG@1         0.441182
HR@5           0.805260      NDCG@5         0.638636
HR@10          0.893172      NDCG@10        0.667345


[2021-01-18 01:09:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 01:13:23,635 - INFO:tensorflow]<<module>>:120: Epoch 28: Avg Loss/Batch 0.043863            
[2021-01-18 01:14:02,310 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444965      NDCG@1         0.444965
HR@5           0.809043      NDCG@5         0.643004
HR@10          0.895875      NDCG@10        0.671303


[2021-01-18 01:19:40,629 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/015/model.ckpt
[2021-01-18 01:21:03,757 - INFO:tensorflow]<<module>>:120: Epoch 29: Avg Loss/Batch 0.043330            
[2021-01-18 01:21:42,480 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.445325      NDCG@1         0.445325
HR@5           0.808143      NDCG@5         0.642686
HR@10          0.896055      NDCG@10        0.671401


[2021-01-18 01:22:22,590 - INFO:tensorflow]<<module>>:138: HR@1           0.445325      NDCG@1         0.445325
HR@2           0.627094      NDCG@2         0.560009
HR@3           0.718069      NDCG@3         0.605496
HR@4           0.771573      NDCG@4         0.628539
HR@5           0.808143      NDCG@5         0.642686
HR@6           0.834264      NDCG@6         0.651991
HR@7           0.855702      NDCG@7         0.659137
HR@8           0.872636      NDCG@8         0.664479
HR@9           0.885426      NDCG@9         0.668329
HR@10          0.896055      NDCG@10        0.671401

[2021-01-18 01:22:22,590 - INFO:tensorflow]<<module>>:148: Saving model...
[2021-01-18 01:22:22,590 - WARNING:tensorflow]<new_func>:323: From train.py:151: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
