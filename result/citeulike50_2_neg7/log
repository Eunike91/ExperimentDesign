[2021-01-22 15:53:43,831 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:75: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

[2021-01-22 15:53:43,832 - INFO:tensorflow]<<module>>:75: 

{
  "batch_size": 128,
  "decay_rate": 0.9,
  "embed_size": 50,
  "filename": "data/citeulike-a.npz",
  "grad_clip": 5.0,
  "hops": 2,
  "item_count": "16980",
  "l2": 0.1,
  "learning_rate": 0.001,
  "logdir": "result/023/",
  "max_neighbors": 311,
  "neg_count": 7,
  "optimizer": "rmsprop",
  "optimizer_params": "{'momentum': 0.9, 'decay': 0.9}",
  "pretrain": "pretrain/citeulike-a_e50.npz",
  "save_directory": "result/023/",
  "tol": 1e-05,
  "user_count": "5551"
}


[2021-01-22 15:53:43,832 - WARNING:tensorflow]<new_func>:323: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:250: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
[2021-01-22 15:53:43,841 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:255: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

[2021-01-22 15:53:43,851 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/helper.py:23: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

[2021-01-22 15:53:43,910 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/attention.py:52: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.

[2021-01-22 15:53:43,950 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f6c4798b200>
[2021-01-22 15:53:43,990 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/sonnet/python/modules/basic.py:132: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-22 15:53:44,061 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f6c4798b200>
[2021-01-22 15:53:44,097 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

[2021-01-22 15:53:44,097 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

[2021-01-22 15:53:44,098 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:37: The name tf.log is deprecated. Please use tf.math.log instead.

[2021-01-22 15:53:44,110 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:220: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

[2021-01-22 15:53:44,276 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1424: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
[2021-01-22 15:53:44,622 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/rmsprop.py:119: calling Ones.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-22 15:53:44,722 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:44: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.

[2021-01-22 15:53:44,724 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:47: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.

[2021-01-22 15:53:44,725 - WARNING:tensorflow]<new_func>:323: From train.py:83: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
[2021-01-22 15:53:44,858 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:85: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

[2021-01-22 15:53:44,859 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:86: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.

[2021-01-22 15:53:45,057 - INFO:tensorflow]<_try_run_local_init_op>:500: Running local_init_op.
[2021-01-22 15:53:45,080 - INFO:tensorflow]<_try_run_local_init_op>:502: Done running local_init_op.
[2021-01-22 15:53:45,688 - INFO:tensorflow]<prepare_or_wait_for_session>:737: Starting standard services.
[2021-01-22 15:53:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 15:53:45,711 - INFO:tensorflow]<prepare_or_wait_for_session>:743: Starting queue runners.
[2021-01-22 15:53:45,712 - INFO:tensorflow]<<module>>:91: Loading Pretrained Embeddings.... from pretrain/citeulike-a_e50.npz
[2021-01-22 16:03:45,716 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:04:08,920 - INFO:tensorflow]<<module>>:120: Epoch 0: Avg Loss/Batch 0.393852            
[2021-01-22 16:04:43,207 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.395604      NDCG@1         0.395604
HR@5           0.762385      NDCG@5         0.593446
HR@10          0.860746      NDCG@10        0.625626


[2021-01-22 16:13:45,717 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:14:07,911 - INFO:tensorflow]<<module>>:120: Epoch 1: Avg Loss/Batch 0.246213            
[2021-01-22 16:14:43,830 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.397586      NDCG@1         0.397586
HR@5           0.772293      NDCG@5         0.599139
HR@10          0.871735      NDCG@10        0.631535


[2021-01-22 16:23:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:24:17,448 - INFO:tensorflow]<<module>>:120: Epoch 2: Avg Loss/Batch 0.190330            
[2021-01-22 16:24:55,304 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.394163      NDCG@1         0.394163
HR@5           0.757161      NDCG@5         0.589147
HR@10          0.856602      NDCG@10        0.621473


[2021-01-22 16:33:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:34:29,756 - INFO:tensorflow]<<module>>:120: Epoch 3: Avg Loss/Batch 0.154317            
[2021-01-22 16:35:03,417 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.404251      NDCG@1         0.404251
HR@5           0.771393      NDCG@5         0.601946
HR@10          0.865970      NDCG@10        0.632894


[2021-01-22 16:43:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:43:45,746 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/saver.py:963: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
[2021-01-22 16:45:22,681 - INFO:tensorflow]<<module>>:120: Epoch 4: Avg Loss/Batch 0.131122            
[2021-01-22 16:45:52,103 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.413979      NDCG@1         0.413979
HR@5           0.782201      NDCG@5         0.612254
HR@10          0.879841      NDCG@10        0.644148


[2021-01-22 16:53:22,461 - INFO:tensorflow]<<module>>:120: Epoch 5: Avg Loss/Batch 0.115356            
[2021-01-22 16:53:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 16:53:51,753 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.406053      NDCG@1         0.406053
HR@5           0.777698      NDCG@5         0.607548
HR@10          0.877319      NDCG@10        0.640081


[2021-01-22 17:01:21,133 - INFO:tensorflow]<<module>>:120: Epoch 6: Avg Loss/Batch 0.102887            
[2021-01-22 17:01:50,316 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.425509      NDCG@1         0.425509
HR@5           0.787426      NDCG@5         0.621149
HR@10          0.884165      NDCG@10        0.652769


[2021-01-22 17:03:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:09:17,416 - INFO:tensorflow]<<module>>:120: Epoch 7: Avg Loss/Batch 0.094011            
[2021-01-22 17:09:48,142 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.428571      NDCG@1         0.428571
HR@5           0.792650      NDCG@5         0.624938
HR@10          0.885426      NDCG@10        0.655246


[2021-01-22 17:13:45,716 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:17:15,865 - INFO:tensorflow]<<module>>:120: Epoch 8: Avg Loss/Batch 0.086196            
[2021-01-22 17:17:49,961 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433435      NDCG@1         0.433435
HR@5           0.792110      NDCG@5         0.627157
HR@10          0.885426      NDCG@10        0.657642


[2021-01-22 17:23:45,716 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:25:18,260 - INFO:tensorflow]<<module>>:120: Epoch 9: Avg Loss/Batch 0.080465            
[2021-01-22 17:25:47,318 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433616      NDCG@1         0.433616
HR@5           0.796974      NDCG@5         0.630700
HR@10          0.885246      NDCG@10        0.659412


[2021-01-22 17:33:11,289 - INFO:tensorflow]<<module>>:120: Epoch 10: Avg Loss/Batch 0.075375            
[2021-01-22 17:33:40,417 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433976      NDCG@1         0.433976
HR@5           0.787606      NDCG@5         0.624873
HR@10          0.882724      NDCG@10        0.655934


[2021-01-22 17:33:45,714 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:41:01,370 - INFO:tensorflow]<<module>>:120: Epoch 11: Avg Loss/Batch 0.070412            
[2021-01-22 17:41:30,064 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.436318      NDCG@1         0.436318
HR@5           0.797874      NDCG@5         0.632282
HR@10          0.886507      NDCG@10        0.661092


[2021-01-22 17:43:45,712 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:48:48,574 - INFO:tensorflow]<<module>>:120: Epoch 12: Avg Loss/Batch 0.066697            
[2021-01-22 17:49:17,294 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.428932      NDCG@1         0.428932
HR@5           0.796613      NDCG@5         0.627687
HR@10          0.880022      NDCG@10        0.654726


[2021-01-22 17:53:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 17:56:36,067 - INFO:tensorflow]<<module>>:120: Epoch 13: Avg Loss/Batch 0.063202            
[2021-01-22 17:57:04,750 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438299      NDCG@1         0.438299
HR@5           0.799676      NDCG@5         0.634282
HR@10          0.883805      NDCG@10        0.661796


[2021-01-22 18:03:45,713 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:04:25,377 - INFO:tensorflow]<<module>>:120: Epoch 14: Avg Loss/Batch 0.060961            
[2021-01-22 18:04:53,949 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.432715      NDCG@1         0.432715
HR@5           0.800216      NDCG@5         0.631944
HR@10          0.883444      NDCG@10        0.659147


[2021-01-22 18:12:13,723 - INFO:tensorflow]<<module>>:120: Epoch 15: Avg Loss/Batch 0.058196            
[2021-01-22 18:12:42,329 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438119      NDCG@1         0.438119
HR@5           0.799496      NDCG@5         0.633378
HR@10          0.889389      NDCG@10        0.662577


[2021-01-22 18:13:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:20:00,293 - INFO:tensorflow]<<module>>:120: Epoch 16: Avg Loss/Batch 0.056298            
[2021-01-22 18:20:28,879 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.436138      NDCG@1         0.436138
HR@5           0.798054      NDCG@5         0.632039
HR@10          0.885066      NDCG@10        0.660457


[2021-01-22 18:23:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:27:47,298 - INFO:tensorflow]<<module>>:120: Epoch 17: Avg Loss/Batch 0.054269            
[2021-01-22 18:28:15,920 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.440281      NDCG@1         0.440281
HR@5           0.800036      NDCG@5         0.635164
HR@10          0.888849      NDCG@10        0.664043


[2021-01-22 18:33:45,715 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:35:32,294 - INFO:tensorflow]<<module>>:120: Epoch 18: Avg Loss/Batch 0.052540            
[2021-01-22 18:36:00,933 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444424      NDCG@1         0.444424
HR@5           0.804360      NDCG@5         0.638709
HR@10          0.891911      NDCG@10        0.667281


[2021-01-22 18:43:20,131 - INFO:tensorflow]<<module>>:120: Epoch 19: Avg Loss/Batch 0.051018            
[2021-01-22 18:43:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:43:48,689 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.440821      NDCG@1         0.440821
HR@5           0.802918      NDCG@5         0.637178
HR@10          0.885066      NDCG@10        0.663865


[2021-01-22 18:51:05,321 - INFO:tensorflow]<<module>>:120: Epoch 20: Avg Loss/Batch 0.049409            
[2021-01-22 18:51:33,868 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.439560      NDCG@1         0.439560
HR@5           0.798054      NDCG@5         0.633098
HR@10          0.887408      NDCG@10        0.662336


[2021-01-22 18:53:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 18:58:49,582 - INFO:tensorflow]<<module>>:120: Epoch 21: Avg Loss/Batch 0.048381            
[2021-01-22 18:59:18,098 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441902      NDCG@1         0.441902
HR@5           0.800576      NDCG@5         0.636074
HR@10          0.887588      NDCG@10        0.664471


[2021-01-22 19:03:45,712 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 19:06:35,730 - INFO:tensorflow]<<module>>:120: Epoch 22: Avg Loss/Batch 0.047062            
[2021-01-22 19:07:04,309 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.442623      NDCG@1         0.442623
HR@5           0.801297      NDCG@5         0.637494
HR@10          0.884886      NDCG@10        0.664887


[2021-01-22 19:13:45,712 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 19:14:20,550 - INFO:tensorflow]<<module>>:120: Epoch 23: Avg Loss/Batch 0.045692            
[2021-01-22 19:14:48,955 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.446946      NDCG@1         0.446946
HR@5           0.806341      NDCG@5         0.641253
HR@10          0.891191      NDCG@10        0.668891


[2021-01-22 19:22:05,333 - INFO:tensorflow]<<module>>:120: Epoch 24: Avg Loss/Batch 0.045660            
[2021-01-22 19:22:33,807 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441722      NDCG@1         0.441722
HR@5           0.802558      NDCG@5         0.636970
HR@10          0.886327      NDCG@10        0.664298


[2021-01-22 19:23:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 19:29:51,291 - INFO:tensorflow]<<module>>:120: Epoch 25: Avg Loss/Batch 0.044470            
[2021-01-22 19:30:19,942 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.437759      NDCG@1         0.437759
HR@5           0.798054      NDCG@5         0.633028
HR@10          0.881283      NDCG@10        0.660310


[2021-01-22 19:33:45,712 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 19:37:37,250 - INFO:tensorflow]<<module>>:120: Epoch 26: Avg Loss/Batch 0.043479            
[2021-01-22 19:38:05,951 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.446226      NDCG@1         0.446226
HR@5           0.809043      NDCG@5         0.642120
HR@10          0.889930      NDCG@10        0.668354


[2021-01-22 19:43:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 19:45:24,264 - INFO:tensorflow]<<module>>:120: Epoch 27: Avg Loss/Batch 0.043106            
[2021-01-22 19:45:52,890 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444785      NDCG@1         0.444785
HR@5           0.800576      NDCG@5         0.638284
HR@10          0.890830      NDCG@10        0.667767


[2021-01-22 19:53:10,764 - INFO:tensorflow]<<module>>:120: Epoch 28: Avg Loss/Batch 0.042133            
[2021-01-22 19:53:39,373 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444605      NDCG@1         0.444605
HR@5           0.798955      NDCG@5         0.635457
HR@10          0.881823      NDCG@10        0.662577


[2021-01-22 19:53:45,711 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/023/model.ckpt
[2021-01-22 20:00:58,864 - INFO:tensorflow]<<module>>:120: Epoch 29: Avg Loss/Batch 0.041455            
[2021-01-22 20:01:27,470 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.450910      NDCG@1         0.450910
HR@5           0.803279      NDCG@5         0.641983
HR@10          0.885606      NDCG@10        0.668751


[2021-01-22 20:01:57,587 - INFO:tensorflow]<<module>>:138: HR@1           0.450910      NDCG@1         0.450910
HR@2           0.624932      NDCG@2         0.560706
HR@3           0.711583      NDCG@3         0.604031
HR@4           0.768150      NDCG@4         0.628393
HR@5           0.803279      NDCG@5         0.641983
HR@6           0.826698      NDCG@6         0.650325
HR@7           0.846154      NDCG@7         0.656810
HR@8           0.859845      NDCG@8         0.661129
HR@9           0.874437      NDCG@9         0.665522
HR@10          0.885606      NDCG@10        0.668751

[2021-01-22 20:01:57,588 - INFO:tensorflow]<<module>>:148: Saving model...
[2021-01-22 20:01:57,588 - WARNING:tensorflow]<new_func>:323: From train.py:151: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
