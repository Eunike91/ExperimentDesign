[2021-01-13 22:51:48,461 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:75: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

[2021-01-13 22:51:48,462 - INFO:tensorflow]<<module>>:75: 

{
  "batch_size": 128,
  "decay_rate": 0.9,
  "embed_size": 60,
  "filename": "data/citeulike-a.npz",
  "grad_clip": 5.0,
  "hops": 3,
  "item_count": "16980",
  "l2": 0.1,
  "learning_rate": 0.001,
  "logdir": "result/010/",
  "max_neighbors": 311,
  "neg_count": 4,
  "optimizer": "rmsprop",
  "optimizer_params": "{'momentum': 0.9, 'decay': 0.9}",
  "pretrain": "pretrain/citeulike-a_e60.npz",
  "save_directory": "result/010/",
  "tol": 1e-05,
  "user_count": "5551"
}


[2021-01-13 22:51:48,463 - WARNING:tensorflow]<new_func>:323: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:250: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
[2021-01-13 22:51:48,472 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:255: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

[2021-01-13 22:51:48,483 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/helper.py:23: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

[2021-01-13 22:51:48,542 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/attention.py:52: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.

[2021-01-13 22:51:48,580 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f250f46e200>
[2021-01-13 22:51:48,632 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f250f46e200>
[2021-01-13 22:51:48,671 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/sonnet/python/modules/basic.py:132: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-13 22:51:48,746 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f250f46e200>
[2021-01-13 22:51:48,784 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f250f46e200>
[2021-01-13 22:51:48,826 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

[2021-01-13 22:51:48,826 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

[2021-01-13 22:51:48,827 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:37: The name tf.log is deprecated. Please use tf.math.log instead.

[2021-01-13 22:51:48,839 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:220: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

[2021-01-13 22:51:49,024 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1424: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
[2021-01-13 22:51:49,571 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/rmsprop.py:119: calling Ones.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-13 22:51:49,697 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:44: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.

[2021-01-13 22:51:49,699 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:47: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.

[2021-01-13 22:51:49,700 - WARNING:tensorflow]<new_func>:323: From train.py:83: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
[2021-01-13 22:51:49,870 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:85: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

[2021-01-13 22:51:49,871 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:86: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.

[2021-01-13 22:51:50,113 - INFO:tensorflow]<_try_run_local_init_op>:500: Running local_init_op.
[2021-01-13 22:51:50,143 - INFO:tensorflow]<_try_run_local_init_op>:502: Done running local_init_op.
[2021-01-13 22:51:50,956 - INFO:tensorflow]<prepare_or_wait_for_session>:737: Starting standard services.
[2021-01-13 22:51:50,985 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 22:51:50,986 - INFO:tensorflow]<prepare_or_wait_for_session>:743: Starting queue runners.
[2021-01-13 22:51:50,987 - INFO:tensorflow]<<module>>:91: Loading Pretrained Embeddings.... from pretrain/citeulike-a_e60.npz
[2021-01-13 22:58:53,617 - INFO:tensorflow]<<module>>:120: Epoch 0: Avg Loss/Batch 0.569733            
[2021-01-13 22:59:31,827 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.358674      NDCG@1         0.358674
HR@5           0.743470      NDCG@5         0.563750
HR@10          0.852279      NDCG@10        0.599294


[2021-01-13 23:01:50,990 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:06:42,316 - INFO:tensorflow]<<module>>:120: Epoch 1: Avg Loss/Batch 0.284533            
[2021-01-13 23:07:26,281 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.385876      NDCG@1         0.385876
HR@5           0.770132      NDCG@5         0.593278
HR@10          0.868312      NDCG@10        0.625345


[2021-01-13 23:11:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:14:21,780 - INFO:tensorflow]<<module>>:120: Epoch 2: Avg Loss/Batch 0.233031            
[2021-01-13 23:15:05,342 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.392182      NDCG@1         0.392182
HR@5           0.762926      NDCG@5         0.591115
HR@10          0.873536      NDCG@10        0.627267


[2021-01-13 23:21:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:22:26,617 - INFO:tensorflow]<<module>>:120: Epoch 3: Avg Loss/Batch 0.187861            
[2021-01-13 23:23:05,035 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.402630      NDCG@1         0.402630
HR@5           0.776797      NDCG@5         0.603090
HR@10          0.876599      NDCG@10        0.635530


[2021-01-13 23:29:48,827 - INFO:tensorflow]<<module>>:120: Epoch 4: Avg Loss/Batch 0.155267            
[2021-01-13 23:30:27,018 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.412178      NDCG@1         0.412178
HR@5           0.784904      NDCG@5         0.613321
HR@10          0.882724      NDCG@10        0.645155


[2021-01-13 23:31:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:37:20,503 - INFO:tensorflow]<<module>>:120: Epoch 5: Avg Loss/Batch 0.133414            
[2021-01-13 23:38:00,135 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.416502      NDCG@1         0.416502
HR@5           0.792110      NDCG@5         0.618413
HR@10          0.886687      NDCG@10        0.649071


[2021-01-13 23:41:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:41:51,042 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/saver.py:963: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
[2021-01-13 23:45:28,804 - INFO:tensorflow]<<module>>:120: Epoch 6: Avg Loss/Batch 0.118405            
[2021-01-13 23:46:12,236 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.420465      NDCG@1         0.420465
HR@5           0.786885      NDCG@5         0.618476
HR@10          0.887408      NDCG@10        0.651246


[2021-01-13 23:51:50,987 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-13 23:53:32,432 - INFO:tensorflow]<<module>>:120: Epoch 7: Avg Loss/Batch 0.106924            
[2021-01-13 23:54:18,274 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.421546      NDCG@1         0.421546
HR@5           0.792110      NDCG@5         0.622569
HR@10          0.886687      NDCG@10        0.653445


[2021-01-14 00:01:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:02:08,625 - INFO:tensorflow]<<module>>:120: Epoch 8: Avg Loss/Batch 0.097053            
[2021-01-14 00:02:51,690 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.425329      NDCG@1         0.425329
HR@5           0.794632      NDCG@5         0.625106
HR@10          0.887047      NDCG@10        0.655275


[2021-01-14 00:10:18,828 - INFO:tensorflow]<<module>>:120: Epoch 9: Avg Loss/Batch 0.090020            
[2021-01-14 00:11:07,296 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.430373      NDCG@1         0.430373
HR@5           0.797874      NDCG@5         0.629645
HR@10          0.889750      NDCG@10        0.659515


[2021-01-14 00:11:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:18:02,397 - INFO:tensorflow]<<module>>:120: Epoch 10: Avg Loss/Batch 0.083298            
[2021-01-14 00:18:38,054 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.431994      NDCG@1         0.431994
HR@5           0.796974      NDCG@5         0.629412
HR@10          0.891011      NDCG@10        0.660107


[2021-01-14 00:21:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:24:50,696 - INFO:tensorflow]<<module>>:120: Epoch 11: Avg Loss/Batch 0.078663            
[2021-01-14 00:25:26,225 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.432174      NDCG@1         0.432174
HR@5           0.797694      NDCG@5         0.629293
HR@10          0.893713      NDCG@10        0.660590


[2021-01-14 00:31:38,044 - INFO:tensorflow]<<module>>:120: Epoch 12: Avg Loss/Batch 0.074280            
[2021-01-14 00:31:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:32:13,990 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.432174      NDCG@1         0.432174
HR@5           0.796613      NDCG@5         0.629558
HR@10          0.892272      NDCG@10        0.660864


[2021-01-14 00:38:25,808 - INFO:tensorflow]<<module>>:120: Epoch 13: Avg Loss/Batch 0.070194            
[2021-01-14 00:39:01,212 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.435237      NDCG@1         0.435237
HR@5           0.799496      NDCG@5         0.633332
HR@10          0.896595      NDCG@10        0.665108


[2021-01-14 00:41:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:45:10,406 - INFO:tensorflow]<<module>>:120: Epoch 14: Avg Loss/Batch 0.066652            
[2021-01-14 00:45:45,901 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433075      NDCG@1         0.433075
HR@5           0.804900      NDCG@5         0.634797
HR@10          0.895334      NDCG@10        0.664197


[2021-01-14 00:51:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 00:51:56,062 - INFO:tensorflow]<<module>>:120: Epoch 15: Avg Loss/Batch 0.064403            
[2021-01-14 00:52:31,460 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.437399      NDCG@1         0.437399
HR@5           0.805260      NDCG@5         0.637325
HR@10          0.893533      NDCG@10        0.666028


[2021-01-14 00:58:41,851 - INFO:tensorflow]<<module>>:120: Epoch 16: Avg Loss/Batch 0.061401            
[2021-01-14 00:59:17,746 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.437038      NDCG@1         0.437038
HR@5           0.807242      NDCG@5         0.637962
HR@10          0.894614      NDCG@10        0.666483


[2021-01-14 01:01:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:05:30,294 - INFO:tensorflow]<<module>>:120: Epoch 17: Avg Loss/Batch 0.059672            
[2021-01-14 01:06:05,698 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.439200      NDCG@1         0.439200
HR@5           0.804720      NDCG@5         0.637108
HR@10          0.893713      NDCG@10        0.666115


[2021-01-14 01:11:50,991 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:12:17,222 - INFO:tensorflow]<<module>>:120: Epoch 18: Avg Loss/Batch 0.057232            
[2021-01-14 01:12:52,958 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443704      NDCG@1         0.443704
HR@5           0.807782      NDCG@5         0.641612
HR@10          0.895514      NDCG@10        0.670102


[2021-01-14 01:19:03,487 - INFO:tensorflow]<<module>>:120: Epoch 19: Avg Loss/Batch 0.055250            
[2021-01-14 01:19:38,930 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444064      NDCG@1         0.444064
HR@5           0.797694      NDCG@5         0.636449
HR@10          0.891911      NDCG@10        0.667202


[2021-01-14 01:21:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:25:49,078 - INFO:tensorflow]<<module>>:120: Epoch 20: Avg Loss/Batch 0.053874            
[2021-01-14 01:26:24,771 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443344      NDCG@1         0.443344
HR@5           0.806701      NDCG@5         0.640915
HR@10          0.897496      NDCG@10        0.670601


[2021-01-14 01:31:50,989 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:32:34,819 - INFO:tensorflow]<<module>>:120: Epoch 21: Avg Loss/Batch 0.052584            
[2021-01-14 01:33:10,373 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.444424      NDCG@1         0.444424
HR@5           0.805801      NDCG@5         0.640551
HR@10          0.894974      NDCG@10        0.669864


[2021-01-14 01:39:25,070 - INFO:tensorflow]<<module>>:120: Epoch 22: Avg Loss/Batch 0.051081            
[2021-01-14 01:40:00,508 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441182      NDCG@1         0.441182
HR@5           0.796793      NDCG@5         0.634047
HR@10          0.891731      NDCG@10        0.665105


[2021-01-14 01:41:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:46:10,156 - INFO:tensorflow]<<module>>:120: Epoch 23: Avg Loss/Batch 0.049798            
[2021-01-14 01:46:45,647 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.448928      NDCG@1         0.448928
HR@5           0.815529      NDCG@5         0.647814
HR@10          0.900198      NDCG@10        0.675462


[2021-01-14 01:51:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 01:52:55,225 - INFO:tensorflow]<<module>>:120: Epoch 24: Avg Loss/Batch 0.048731            
[2021-01-14 01:53:30,687 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.446586      NDCG@1         0.446586
HR@5           0.811746      NDCG@5         0.645180
HR@10          0.896956      NDCG@10        0.673086


[2021-01-14 01:59:41,887 - INFO:tensorflow]<<module>>:120: Epoch 25: Avg Loss/Batch 0.047766            
[2021-01-14 02:00:17,319 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.450369      NDCG@1         0.450369
HR@5           0.805801      NDCG@5         0.643038
HR@10          0.895154      NDCG@10        0.672356


[2021-01-14 02:01:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 02:06:28,845 - INFO:tensorflow]<<module>>:120: Epoch 26: Avg Loss/Batch 0.046718            
[2021-01-14 02:07:04,286 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443704      NDCG@1         0.443704
HR@5           0.802918      NDCG@5         0.639054
HR@10          0.892272      NDCG@10        0.668296


[2021-01-14 02:11:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 02:13:14,387 - INFO:tensorflow]<<module>>:120: Epoch 27: Avg Loss/Batch 0.045995            
[2021-01-14 02:13:50,002 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443884      NDCG@1         0.443884
HR@5           0.805440      NDCG@5         0.640684
HR@10          0.893713      NDCG@10        0.669457


[2021-01-14 02:20:01,538 - INFO:tensorflow]<<module>>:120: Epoch 28: Avg Loss/Batch 0.044926            
[2021-01-14 02:20:36,978 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.450369      NDCG@1         0.450369
HR@5           0.805621      NDCG@5         0.642844
HR@10          0.895875      NDCG@10        0.672286


[2021-01-14 02:21:50,986 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/010/model.ckpt
[2021-01-14 02:26:45,543 - INFO:tensorflow]<<module>>:120: Epoch 29: Avg Loss/Batch 0.044135            
[2021-01-14 02:27:20,923 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.451991      NDCG@1         0.451991
HR@5           0.809584      NDCG@5         0.646039
HR@10          0.897316      NDCG@10        0.674695


[2021-01-14 02:27:58,006 - INFO:tensorflow]<<module>>:138: HR@1           0.451991      NDCG@1         0.451991
HR@2           0.628716      NDCG@2         0.563492
HR@3           0.718249      NDCG@3         0.608258
HR@4           0.774095      NDCG@4         0.632310
HR@5           0.809584      NDCG@5         0.646039
HR@6           0.836066      NDCG@6         0.655472
HR@7           0.857503      NDCG@7         0.662618
HR@8           0.872095      NDCG@8         0.667221
HR@9           0.887408      NDCG@9         0.671831
HR@10          0.897316      NDCG@10        0.674695

[2021-01-14 02:27:58,007 - INFO:tensorflow]<<module>>:148: Saving model...
[2021-01-14 02:27:58,007 - WARNING:tensorflow]<new_func>:323: From train.py:151: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
