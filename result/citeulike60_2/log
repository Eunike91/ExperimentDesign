[2021-01-13 07:44:09,130 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:75: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

[2021-01-13 07:44:09,130 - INFO:tensorflow]<<module>>:75: 

{
  "batch_size": 128,
  "decay_rate": 0.9,
  "embed_size": 60,
  "filename": "data/citeulike-a.npz",
  "grad_clip": 5.0,
  "hops": 2,
  "item_count": "16980",
  "l2": 0.1,
  "learning_rate": 0.001,
  "logdir": "result/007/",
  "max_neighbors": 311,
  "neg_count": 4,
  "optimizer": "rmsprop",
  "optimizer_params": "{'momentum': 0.9, 'decay': 0.9}",
  "pretrain": "pretrain/citeulike-a_e60.npz",
  "save_directory": "result/007/",
  "tol": 1e-05,
  "user_count": "5551"
}


[2021-01-13 07:44:09,131 - WARNING:tensorflow]<new_func>:323: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:250: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
[2021-01-13 07:44:09,140 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:255: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

[2021-01-13 07:44:09,150 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/helper.py:23: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

[2021-01-13 07:44:09,214 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/attention.py:52: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.

[2021-01-13 07:44:09,252 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f84783bc200>
[2021-01-13 07:44:09,292 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/sonnet/python/modules/basic.py:132: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-13 07:44:09,363 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f84783bc200>
[2021-01-13 07:44:09,399 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

[2021-01-13 07:44:09,399 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

[2021-01-13 07:44:09,400 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:37: The name tf.log is deprecated. Please use tf.math.log instead.

[2021-01-13 07:44:09,412 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:220: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

[2021-01-13 07:44:09,577 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1424: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
[2021-01-13 07:44:09,939 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/rmsprop.py:119: calling Ones.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-13 07:44:10,036 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:44: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.

[2021-01-13 07:44:10,038 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:47: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.

[2021-01-13 07:44:10,039 - WARNING:tensorflow]<new_func>:323: From train.py:83: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
[2021-01-13 07:44:10,173 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:85: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

[2021-01-13 07:44:10,174 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:86: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.

[2021-01-13 07:44:10,412 - INFO:tensorflow]<_try_run_local_init_op>:500: Running local_init_op.
[2021-01-13 07:44:10,446 - INFO:tensorflow]<_try_run_local_init_op>:502: Done running local_init_op.
[2021-01-13 07:44:11,110 - INFO:tensorflow]<prepare_or_wait_for_session>:737: Starting standard services.
[2021-01-13 07:44:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 07:44:11,134 - INFO:tensorflow]<prepare_or_wait_for_session>:743: Starting queue runners.
[2021-01-13 07:44:11,135 - INFO:tensorflow]<<module>>:91: Loading Pretrained Embeddings.... from pretrain/citeulike-a_e60.npz
[2021-01-13 07:50:00,810 - INFO:tensorflow]<<module>>:120: Epoch 0: Avg Loss/Batch 0.504482            
[2021-01-13 07:50:45,290 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.385336      NDCG@1         0.385336
HR@5           0.756080      NDCG@5         0.582897
HR@10          0.855522      NDCG@10        0.615400


[2021-01-13 07:54:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 07:56:57,596 - INFO:tensorflow]<<module>>:120: Epoch 1: Avg Loss/Batch 0.286299            
[2021-01-13 07:57:30,323 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.372906      NDCG@1         0.372906
HR@5           0.749234      NDCG@5         0.574772
HR@10          0.851018      NDCG@10        0.608226


[2021-01-13 08:03:26,676 - INFO:tensorflow]<<module>>:120: Epoch 2: Avg Loss/Batch 0.235538            
[2021-01-13 08:04:04,159 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.366240      NDCG@1         0.366240
HR@5           0.748514      NDCG@5         0.570773
HR@10          0.853540      NDCG@10        0.605027


[2021-01-13 08:04:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:09:55,240 - INFO:tensorflow]<<module>>:120: Epoch 3: Avg Loss/Batch 0.192771            
[2021-01-13 08:10:27,529 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.383354      NDCG@1         0.383354
HR@5           0.761665      NDCG@5         0.585202
HR@10          0.862547      NDCG@10        0.618093


[2021-01-13 08:14:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:16:29,965 - INFO:tensorflow]<<module>>:120: Epoch 4: Avg Loss/Batch 0.161279            
[2021-01-13 08:17:06,187 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.394343      NDCG@1         0.394343
HR@5           0.774275      NDCG@5         0.599203
HR@10          0.872996      NDCG@10        0.631289


[2021-01-13 08:22:46,872 - INFO:tensorflow]<<module>>:120: Epoch 5: Avg Loss/Batch 0.139487            
[2021-01-13 08:23:24,933 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.405513      NDCG@1         0.405513
HR@5           0.784183      NDCG@5         0.610375
HR@10          0.878580      NDCG@10        0.641154


[2021-01-13 08:24:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:29:57,840 - INFO:tensorflow]<<module>>:120: Epoch 6: Avg Loss/Batch 0.123572            
[2021-01-13 08:30:37,090 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.415060      NDCG@1         0.415060
HR@5           0.790668      NDCG@5         0.617231
HR@10          0.892812      NDCG@10        0.650335


[2021-01-13 08:34:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:34:11,185 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/saver.py:963: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
[2021-01-13 08:36:45,918 - INFO:tensorflow]<<module>>:120: Epoch 7: Avg Loss/Batch 0.111321            
[2021-01-13 08:37:22,148 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.410377      NDCG@1         0.410377
HR@5           0.779679      NDCG@5         0.609111
HR@10          0.881823      NDCG@10        0.642452


[2021-01-13 08:43:44,304 - INFO:tensorflow]<<module>>:120: Epoch 8: Avg Loss/Batch 0.103412            
[2021-01-13 08:44:11,135 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:44:23,825 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.424428      NDCG@1         0.424428
HR@5           0.793731      NDCG@5         0.624343
HR@10          0.892452      NDCG@10        0.656401


[2021-01-13 08:51:15,524 - INFO:tensorflow]<<module>>:120: Epoch 9: Avg Loss/Batch 0.094913            
[2021-01-13 08:51:54,867 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.423707      NDCG@1         0.423707
HR@5           0.790128      NDCG@5         0.621268
HR@10          0.888308      NDCG@10        0.653156


[2021-01-13 08:54:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 08:58:57,709 - INFO:tensorflow]<<module>>:120: Epoch 10: Avg Loss/Batch 0.088414            
[2021-01-13 08:59:45,545 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.419744      NDCG@1         0.419744
HR@5           0.791569      NDCG@5         0.620013
HR@10          0.883444      NDCG@10        0.649931


[2021-01-13 09:04:11,137 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:06:58,255 - INFO:tensorflow]<<module>>:120: Epoch 11: Avg Loss/Batch 0.083240            
[2021-01-13 09:07:40,864 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.426410      NDCG@1         0.426410
HR@5           0.799856      NDCG@5         0.628437
HR@10          0.893353      NDCG@10        0.658881


[2021-01-13 09:14:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:14:11,996 - INFO:tensorflow]<<module>>:120: Epoch 12: Avg Loss/Batch 0.079356            
[2021-01-13 09:14:48,844 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.419744      NDCG@1         0.419744
HR@5           0.800937      NDCG@5         0.627081
HR@10          0.896055      NDCG@10        0.657932


[2021-01-13 09:21:36,938 - INFO:tensorflow]<<module>>:120: Epoch 13: Avg Loss/Batch 0.075537            
[2021-01-13 09:22:15,929 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.429652      NDCG@1         0.429652
HR@5           0.794451      NDCG@5         0.627882
HR@10          0.891011      NDCG@10        0.659309


[2021-01-13 09:24:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:28:59,943 - INFO:tensorflow]<<module>>:120: Epoch 14: Avg Loss/Batch 0.072611            
[2021-01-13 09:29:39,948 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.431274      NDCG@1         0.431274
HR@5           0.795893      NDCG@5         0.629228
HR@10          0.895334      NDCG@10        0.661730


[2021-01-13 09:34:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:36:06,801 - INFO:tensorflow]<<module>>:120: Epoch 15: Avg Loss/Batch 0.069853            
[2021-01-13 09:36:45,068 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.431994      NDCG@1         0.431994
HR@5           0.800396      NDCG@5         0.632909
HR@10          0.899478      NDCG@10        0.665399


[2021-01-13 09:43:05,063 - INFO:tensorflow]<<module>>:120: Epoch 16: Avg Loss/Batch 0.066798            
[2021-01-13 09:43:43,357 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.434696      NDCG@1         0.434696
HR@5           0.801657      NDCG@5         0.633665
HR@10          0.891911      NDCG@10        0.663104


[2021-01-13 09:44:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:50:23,507 - INFO:tensorflow]<<module>>:120: Epoch 17: Avg Loss/Batch 0.065195            
[2021-01-13 09:51:01,410 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.437399      NDCG@1         0.437399
HR@5           0.800396      NDCG@5         0.634395
HR@10          0.893533      NDCG@10        0.664898


[2021-01-13 09:54:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 09:57:37,828 - INFO:tensorflow]<<module>>:120: Epoch 18: Avg Loss/Batch 0.062691            
[2021-01-13 09:58:16,392 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.436318      NDCG@1         0.436318
HR@5           0.798775      NDCG@5         0.634597
HR@10          0.895514      NDCG@10        0.666263


[2021-01-13 10:04:11,135 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 10:05:16,498 - INFO:tensorflow]<<module>>:120: Epoch 19: Avg Loss/Batch 0.061244            
[2021-01-13 10:05:57,491 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438119      NDCG@1         0.438119
HR@5           0.798054      NDCG@5         0.635165
HR@10          0.893893      NDCG@10        0.666448


[2021-01-13 10:12:15,470 - INFO:tensorflow]<<module>>:120: Epoch 20: Avg Loss/Batch 0.059549            
[2021-01-13 10:12:51,991 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438119      NDCG@1         0.438119
HR@5           0.803999      NDCG@5         0.636896
HR@10          0.895334      NDCG@10        0.666638


[2021-01-13 10:14:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 10:19:36,680 - INFO:tensorflow]<<module>>:120: Epoch 21: Avg Loss/Batch 0.058873            
[2021-01-13 10:20:16,507 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.442983      NDCG@1         0.442983
HR@5           0.804179      NDCG@5         0.639700
HR@10          0.896055      NDCG@10        0.669703


[2021-01-13 10:24:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 10:26:22,473 - INFO:tensorflow]<<module>>:120: Epoch 22: Avg Loss/Batch 0.056412            
[2021-01-13 10:26:58,998 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.440101      NDCG@1         0.440101
HR@5           0.803819      NDCG@5         0.638540
HR@10          0.898036      NDCG@10        0.669220


[2021-01-13 10:33:21,285 - INFO:tensorflow]<<module>>:120: Epoch 23: Avg Loss/Batch 0.056066            
[2021-01-13 10:33:57,988 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.435417      NDCG@1         0.435417
HR@5           0.803099      NDCG@5         0.635357
HR@10          0.899297      NDCG@10        0.666550


[2021-01-13 10:34:11,139 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 10:40:01,969 - INFO:tensorflow]<<module>>:120: Epoch 24: Avg Loss/Batch 0.054501            
[2021-01-13 10:40:34,827 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443163      NDCG@1         0.443163
HR@5           0.806521      NDCG@5         0.641771
HR@10          0.897316      NDCG@10        0.671541


[2021-01-13 10:44:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 10:46:42,963 - INFO:tensorflow]<<module>>:120: Epoch 25: Avg Loss/Batch 0.053626            
[2021-01-13 10:47:25,519 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.440821      NDCG@1         0.440821
HR@5           0.805440      NDCG@5         0.640009
HR@10          0.896775      NDCG@10        0.669849


[2021-01-13 10:53:15,401 - INFO:tensorflow]<<module>>:120: Epoch 26: Avg Loss/Batch 0.052668            
[2021-01-13 10:53:52,888 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.445685      NDCG@1         0.445685
HR@5           0.803999      NDCG@5         0.640412
HR@10          0.892452      NDCG@10        0.669284


[2021-01-13 10:54:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 11:00:18,785 - INFO:tensorflow]<<module>>:120: Epoch 27: Avg Loss/Batch 0.051908            
[2021-01-13 11:00:56,830 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.441902      NDCG@1         0.441902
HR@5           0.802018      NDCG@5         0.639017
HR@10          0.892632      NDCG@10        0.668636


[2021-01-13 11:04:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 11:07:40,420 - INFO:tensorflow]<<module>>:120: Epoch 28: Avg Loss/Batch 0.050369            
[2021-01-13 11:08:22,973 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.443163      NDCG@1         0.443163
HR@5           0.808143      NDCG@5         0.642027
HR@10          0.894073      NDCG@10        0.670079


[2021-01-13 11:14:11,134 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/007/model.ckpt
[2021-01-13 11:14:47,890 - INFO:tensorflow]<<module>>:120: Epoch 29: Avg Loss/Batch 0.050601            
[2021-01-13 11:15:20,781 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.439921      NDCG@1         0.439921
HR@5           0.803099      NDCG@5         0.637851
HR@10          0.892092      NDCG@10        0.666858


[2021-01-13 11:15:54,952 - INFO:tensorflow]<<module>>:138: HR@1           0.439921      NDCG@1         0.439921
HR@2           0.624932      NDCG@2         0.556650
HR@3           0.713205      NDCG@3         0.600786
HR@4           0.765448      NDCG@4         0.623286
HR@5           0.803099      NDCG@5         0.637851
HR@6           0.827599      NDCG@6         0.646579
HR@7           0.851018      NDCG@7         0.654385
HR@8           0.867772      NDCG@8         0.659670
HR@9           0.880922      NDCG@9         0.663629
HR@10          0.892092      NDCG@10        0.666858

[2021-01-13 11:15:54,952 - INFO:tensorflow]<<module>>:148: Saving model...
[2021-01-13 11:15:54,953 - WARNING:tensorflow]<new_func>:323: From train.py:151: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
