[2021-01-17 17:46:31,774 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:75: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

[2021-01-17 17:46:31,775 - INFO:tensorflow]<<module>>:75: 

{
  "batch_size": 128,
  "decay_rate": 0.9,
  "embed_size": 40,
  "filename": "data/citeulike-a.npz",
  "grad_clip": 5.0,
  "hops": 4,
  "item_count": "16980",
  "l2": 0.1,
  "learning_rate": 0.001,
  "logdir": "result/014/",
  "max_neighbors": 311,
  "neg_count": 4,
  "optimizer": "rmsprop",
  "optimizer_params": "{'momentum': 0.9, 'decay': 0.9}",
  "pretrain": "pretrain/citeulike-a_e40.npz",
  "save_directory": "result/014/",
  "tol": 1e-05,
  "user_count": "5551"
}


[2021-01-17 17:46:31,775 - WARNING:tensorflow]<new_func>:323: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:250: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
[2021-01-17 17:46:31,784 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:255: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

[2021-01-17 17:46:31,796 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/helper.py:23: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

[2021-01-17 17:46:31,854 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/attention.py:52: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.

[2021-01-17 17:46:31,893 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:31,946 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:31,995 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 4 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:32,033 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/sonnet/python/modules/basic.py:132: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-17 17:46:32,108 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 2 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:32,146 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 3 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:32,183 - INFO:tensorflow]<_build>:187: Creating Hop Mapping 4 with <function relu at 0x7f562c228200>
[2021-01-17 17:46:32,225 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

[2021-01-17 17:46:32,225 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:62: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

[2021-01-17 17:46:32,226 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:37: The name tf.log is deprecated. Please use tf.math.log instead.

[2021-01-17 17:46:32,239 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/layers.py:220: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

[2021-01-17 17:46:32,423 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1424: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
[2021-01-17 17:46:33,075 - WARNING:tensorflow]<new_func>:506: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/rmsprop.py:119: calling Ones.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
[2021-01-17 17:46:33,211 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:44: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.

[2021-01-17 17:46:33,212 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From /home/jovyan/DataScience/DataScienceMaster/ExperimentalDesign/ExperimentDesign/util/cmn.py:47: The name tf.summary.merge_all is deprecated. Please use tf.compat.v1.summary.merge_all instead.

[2021-01-17 17:46:33,213 - WARNING:tensorflow]<new_func>:323: From train.py:83: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
[2021-01-17 17:46:33,403 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:85: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

[2021-01-17 17:46:33,404 - WARNING:tensorflow]<_tfmw_add_deprecation_warning>:139: From train.py:86: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.

[2021-01-17 17:46:33,648 - INFO:tensorflow]<_try_run_local_init_op>:500: Running local_init_op.
[2021-01-17 17:46:33,684 - INFO:tensorflow]<_try_run_local_init_op>:502: Done running local_init_op.
[2021-01-17 17:46:34,707 - INFO:tensorflow]<prepare_or_wait_for_session>:737: Starting standard services.
[2021-01-17 17:46:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 17:46:34,745 - INFO:tensorflow]<prepare_or_wait_for_session>:743: Starting queue runners.
[2021-01-17 17:46:34,747 - INFO:tensorflow]<<module>>:91: Loading Pretrained Embeddings.... from pretrain/citeulike-a_e40.npz
[2021-01-17 17:52:30,090 - INFO:tensorflow]<<module>>:120: Epoch 0: Avg Loss/Batch 0.577464            
[2021-01-17 17:53:02,664 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.345523      NDCG@1         0.345523
HR@5           0.725635      NDCG@5         0.547767
HR@10          0.834624      NDCG@10        0.583322


[2021-01-17 17:56:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 17:58:22,078 - INFO:tensorflow]<<module>>:120: Epoch 1: Avg Loss/Batch 0.306260            
[2021-01-17 17:58:54,003 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.380292      NDCG@1         0.380292
HR@5           0.760223      NDCG@5         0.583441
HR@10          0.860566      NDCG@10        0.616333


[2021-01-17 18:04:15,902 - INFO:tensorflow]<<module>>:120: Epoch 2: Avg Loss/Batch 0.246211            
[2021-01-17 18:04:47,163 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.374167      NDCG@1         0.374167
HR@5           0.751036      NDCG@5         0.576809
HR@10          0.861286      NDCG@10        0.612974


[2021-01-17 18:06:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 18:09:58,929 - INFO:tensorflow]<<module>>:120: Epoch 3: Avg Loss/Batch 0.199434            
[2021-01-17 18:10:30,064 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.389840      NDCG@1         0.389840
HR@5           0.768870      NDCG@5         0.593642
HR@10          0.876058      NDCG@10        0.628621


[2021-01-17 18:15:39,007 - INFO:tensorflow]<<module>>:120: Epoch 4: Avg Loss/Batch 0.166356            
[2021-01-17 18:16:10,196 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.396865      NDCG@1         0.396865
HR@5           0.772113      NDCG@5         0.598976
HR@10          0.875878      NDCG@10        0.632947


[2021-01-17 18:16:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 18:21:18,951 - INFO:tensorflow]<<module>>:120: Epoch 5: Avg Loss/Batch 0.143420            
[2021-01-17 18:21:50,045 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.399568      NDCG@1         0.399568
HR@5           0.768690      NDCG@5         0.599041
HR@10          0.875518      NDCG@10        0.633973


[2021-01-17 18:26:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 18:27:00,220 - INFO:tensorflow]<<module>>:120: Epoch 6: Avg Loss/Batch 0.127095            
[2021-01-17 18:27:31,315 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.407494      NDCG@1         0.407494
HR@5           0.781301      NDCG@5         0.609669
HR@10          0.876599      NDCG@10        0.641009


[2021-01-17 18:32:43,969 - INFO:tensorflow]<<module>>:120: Epoch 7: Avg Loss/Batch 0.114869            
[2021-01-17 18:33:15,112 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.407494      NDCG@1         0.407494
HR@5           0.783282      NDCG@5         0.609177
HR@10          0.881823      NDCG@10        0.641492


[2021-01-17 18:36:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 18:36:34,765 - WARNING:tensorflow]<new_func>:323: From /opt/conda/lib/python3.7/site-packages/tensorflow_core/python/training/saver.py:963: remove_checkpoint (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to delete files with this prefix.
[2021-01-17 18:38:23,773 - INFO:tensorflow]<<module>>:120: Epoch 8: Avg Loss/Batch 0.104434            
[2021-01-17 18:38:54,824 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.410016      NDCG@1         0.410016
HR@5           0.784904      NDCG@5         0.612492
HR@10          0.883444      NDCG@10        0.644622


[2021-01-17 18:44:02,686 - INFO:tensorflow]<<module>>:120: Epoch 9: Avg Loss/Batch 0.096665            
[2021-01-17 18:44:34,235 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.411818      NDCG@1         0.411818
HR@5           0.786705      NDCG@5         0.613916
HR@10          0.882724      NDCG@10        0.645337


[2021-01-17 18:46:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 18:49:42,948 - INFO:tensorflow]<<module>>:120: Epoch 10: Avg Loss/Batch 0.090275            
[2021-01-17 18:50:14,017 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.413259      NDCG@1         0.413259
HR@5           0.790848      NDCG@5         0.617294
HR@10          0.882904      NDCG@10        0.647561


[2021-01-17 18:55:23,677 - INFO:tensorflow]<<module>>:120: Epoch 11: Avg Loss/Batch 0.085051            
[2021-01-17 18:55:55,098 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.416862      NDCG@1         0.416862
HR@5           0.792290      NDCG@5         0.619330
HR@10          0.886867      NDCG@10        0.650299


[2021-01-17 18:56:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:01:05,503 - INFO:tensorflow]<<module>>:120: Epoch 12: Avg Loss/Batch 0.080361            
[2021-01-17 19:01:36,635 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.417582      NDCG@1         0.417582
HR@5           0.794992      NDCG@5         0.621141
HR@10          0.883985      NDCG@10        0.650374


[2021-01-17 19:06:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:06:46,473 - INFO:tensorflow]<<module>>:120: Epoch 13: Avg Loss/Batch 0.076182            
[2021-01-17 19:07:17,656 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.422627      NDCG@1         0.422627
HR@5           0.797334      NDCG@5         0.624751
HR@10          0.886867      NDCG@10        0.654007


[2021-01-17 19:12:40,145 - INFO:tensorflow]<<module>>:120: Epoch 14: Avg Loss/Batch 0.072579            
[2021-01-17 19:13:11,725 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.422086      NDCG@1         0.422086
HR@5           0.795352      NDCG@5         0.625218
HR@10          0.890650      NDCG@10        0.656482


[2021-01-17 19:16:34,749 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:18:30,129 - INFO:tensorflow]<<module>>:120: Epoch 15: Avg Loss/Batch 0.069223            
[2021-01-17 19:19:01,271 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.424608      NDCG@1         0.424608
HR@5           0.796613      NDCG@5         0.626410
HR@10          0.892992      NDCG@10        0.657845


[2021-01-17 19:24:10,134 - INFO:tensorflow]<<module>>:120: Epoch 16: Avg Loss/Batch 0.066225            
[2021-01-17 19:24:41,497 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.427130      NDCG@1         0.427130
HR@5           0.794992      NDCG@5         0.625625
HR@10          0.887948      NDCG@10        0.655886


[2021-01-17 19:26:34,750 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:29:50,930 - INFO:tensorflow]<<module>>:120: Epoch 17: Avg Loss/Batch 0.063958            
[2021-01-17 19:30:22,029 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.430373      NDCG@1         0.430373
HR@5           0.803639      NDCG@5         0.633072
HR@10          0.890290      NDCG@10        0.661385


[2021-01-17 19:35:35,407 - INFO:tensorflow]<<module>>:120: Epoch 18: Avg Loss/Batch 0.061504            
[2021-01-17 19:36:06,658 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.430733      NDCG@1         0.430733
HR@5           0.799676      NDCG@5         0.631989
HR@10          0.891911      NDCG@10        0.662185


[2021-01-17 19:36:34,747 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:41:15,768 - INFO:tensorflow]<<module>>:120: Epoch 19: Avg Loss/Batch 0.059963            
[2021-01-17 19:41:46,780 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.428932      NDCG@1         0.428932
HR@5           0.795893      NDCG@5         0.628852
HR@10          0.888308      NDCG@10        0.659152


[2021-01-17 19:46:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:46:55,780 - INFO:tensorflow]<<module>>:120: Epoch 20: Avg Loss/Batch 0.058234            
[2021-01-17 19:47:26,935 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.426950      NDCG@1         0.426950
HR@5           0.796613      NDCG@5         0.627190
HR@10          0.887588      NDCG@10        0.656967


[2021-01-17 19:52:36,064 - INFO:tensorflow]<<module>>:120: Epoch 21: Avg Loss/Batch 0.056184            
[2021-01-17 19:53:07,458 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433796      NDCG@1         0.433796
HR@5           0.804720      NDCG@5         0.635118
HR@10          0.890650      NDCG@10        0.663065


[2021-01-17 19:56:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 19:58:15,465 - INFO:tensorflow]<<module>>:120: Epoch 22: Avg Loss/Batch 0.055027            
[2021-01-17 19:58:46,611 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.432355      NDCG@1         0.432355
HR@5           0.803099      NDCG@5         0.633065
HR@10          0.892812      NDCG@10        0.662360


[2021-01-17 20:03:55,416 - INFO:tensorflow]<<module>>:120: Epoch 23: Avg Loss/Batch 0.053324            
[2021-01-17 20:04:26,580 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.421906      NDCG@1         0.421906
HR@5           0.790848      NDCG@5         0.622137
HR@10          0.887588      NDCG@10        0.653840


[2021-01-17 20:06:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 20:09:55,337 - INFO:tensorflow]<<module>>:120: Epoch 24: Avg Loss/Batch 0.052363            
[2021-01-17 20:10:37,004 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.433075      NDCG@1         0.433075
HR@5           0.796433      NDCG@5         0.630405
HR@10          0.887588      NDCG@10        0.660168


[2021-01-17 20:16:04,400 - INFO:tensorflow]<<module>>:120: Epoch 25: Avg Loss/Batch 0.051256            
[2021-01-17 20:16:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 20:16:36,120 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.436858      NDCG@1         0.436858
HR@5           0.801657      NDCG@5         0.634424
HR@10          0.886327      NDCG@10        0.662023


[2021-01-17 20:21:57,880 - INFO:tensorflow]<<module>>:120: Epoch 26: Avg Loss/Batch 0.050099            
[2021-01-17 20:22:29,490 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.434156      NDCG@1         0.434156
HR@5           0.805260      NDCG@5         0.635137
HR@10          0.891731      NDCG@10        0.663343


[2021-01-17 20:26:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 20:27:44,881 - INFO:tensorflow]<<module>>:120: Epoch 27: Avg Loss/Batch 0.048677            
[2021-01-17 20:28:15,854 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.438119      NDCG@1         0.438119
HR@5           0.803459      NDCG@5         0.636156
HR@10          0.894253      NDCG@10        0.665770


[2021-01-17 20:33:24,132 - INFO:tensorflow]<<module>>:120: Epoch 28: Avg Loss/Batch 0.047632            
[2021-01-17 20:33:55,077 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.439200      NDCG@1         0.439200
HR@5           0.804720      NDCG@5         0.636078
HR@10          0.891911      NDCG@10        0.664515


[2021-01-17 20:36:34,745 - INFO:tensorflow]<run_loop>:1117: Saving checkpoint to path result/014/model.ckpt
[2021-01-17 20:39:04,574 - INFO:tensorflow]<<module>>:120: Epoch 29: Avg Loss/Batch 0.047019            
[2021-01-17 20:39:35,652 - INFO:tensorflow]<evaluate_model>:64: 
HR@1           0.442623      NDCG@1         0.442623
HR@5           0.805440      NDCG@5         0.638764
HR@10          0.889389      NDCG@10        0.666275


[2021-01-17 20:40:07,917 - INFO:tensorflow]<<module>>:138: HR@1           0.442623      NDCG@1         0.442623
HR@2           0.620429      NDCG@2         0.554806
HR@3           0.705819      NDCG@3         0.597501
HR@4           0.767970      NDCG@4         0.624268
HR@5           0.805440      NDCG@5         0.638764
HR@6           0.833724      NDCG@6         0.648838
HR@7           0.853180      NDCG@7         0.655324
HR@8           0.866150      NDCG@8         0.659415
HR@9           0.878040      NDCG@9         0.662994
HR@10          0.889389      NDCG@10        0.666275

[2021-01-17 20:40:07,917 - INFO:tensorflow]<<module>>:148: Saving model...
[2021-01-17 20:40:07,917 - WARNING:tensorflow]<new_func>:323: From train.py:151: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
